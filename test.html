
<script type="text/javascript">
if(window === window.top) document.location = "/";
</script>




<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes">
        <title>DDY 677</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background-color: #000;
    }
    #UnMutePlayer {
        position: absolute;
        right: 10px; /* Position adjusted to the top right corner */
        top: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    .unmute-button {
        width: 100px; /* Reduced width from 160px to 100px */
        height: 80px; /* Reduced height from 120px to 80px */
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(10px);
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        border: none;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
    }
    .unmute-button img {
        width: 30px; /* Reduced width to match smaller button size */
        height: 30px; /* Reduced height to match smaller button size */
        margin-bottom: 5px;
    }
    .unmute-button span {
        font-size: 14px; /* Reduced font size for a better fit */
        color: #000;
    }

        .media-control .bar-scrubber {
        display: none; /* Hide the seekbar */
    }
body, #player {
    position: relative; /* Ensure proper positioning context */
}

#player {
    z-index: 1; /* Make sure the player doesn't overlay the button */
}

#UnMutePlayer {
    z-index: 9999; /* Keep this higher than the player */
}

</style>
        <script>
            var embedPlayer = true;
        </script>
<script type="text/javascript">
var encodedDomains = "WyJkbGhkLnN4IiwiMjQ3b3ZvLmxvbCIsInN0cmVhbWxpZ2h0LmxvbCIsInBvc2NpdGVjaHMubG9sIiwidGhlc3BvcnQubG9sIiwidGhlYmFsZHN0cmVhbWVyLmxvbCIsInJvY2toZC5sb2wiLCJ0dnRvc3MubG9sIiwibm93YWdvYWwubG9sIiwidG9ubmVzdHJlYW1zLnNob3AiLCJmMXN0cmVhbXMubG9sIiwidW5pdGVkYmFja2Uuc2hvcCIsImJmc3R2LnNob3AiLCJkdXBsZXgtZnVsbC5zaG9wIiwiaG9tb3Nwb3J0cy5zaG9wIiwiZmlyZXN0cmVhbTR1LnNob3AiLCJ0aGVkYWRkeS50byIsInRlY2h0dG9wLnNob3AiLCJhcGtzaGlwLnNob3AiLCJrbHVic3BvcnRzLnNpdGUiLCJzcG9ydHN0cmVhbXNsaWZlLnNob3AiLCJraW5nc3RyZWFtc3Muc2hvcCIsInBhbmRhc3RyZWFtei5zaG9wIiwiZm9vdHlodW50ZXJoZC5zaG9wIiwicmlwcGxlYW11NHMuc2hvcCIsInNvY2NlcnlvdWtub3cuc2hvcCIsInJpcHBsZXN0cmVhbXMydS5zaG9wIiwidmlwc3RyZWFtZXJzLnNob3AiLCJ3b3JsZHNwb3J0ejR1LnNob3AiLCJoaXRzcG9ydHMuc2hvcCIsImZzcG9ydHNoZC5zaG9wIiwiYnV6enN0cmVhbS5zaG9wIiwiZnJlZXR2c3Bvci5zaG9wIiwibGl2ZXBsYXlzLnNob3AiLCJzcG9ydHNzLnNob3AiLCJ0aGVkYWRkeS5jbGljayIsInNwb3J0czJ3YXRjaC5zaG9wIiwiYnVkZHljZW50ZXIuc2hvcCIsImJpbmdzcG9ydC5zaG9wIiwidmlwcm93MS5zaG9wIiwic3BvcnRzc2xpdmUuc2hvcCIsImtvZml0di5saXZlIiwiYml6ei1zdHJlYW1zMnUuc2hvcCIsInRvcHN0cmVhbXouc2hvcCIsImRhZGR5bGl2ZS5tcCIsIndvcmxkc3N0cmVhbS5zaG9wIiwibGl2ZXdvcmxkLnNob3AiLCJtaXp0di5saXZlIiwiNGtzdHJlYW1zLnNob3AiLCJzb29wZXJzdHJlYW1zNHUuc2hvcCIsImdvb21zdHJlYW0uc2hvcCIsInJpcHBsZXN0cmVhbTR1LnNob3AiLCIxc3RzdHJlYW1zLnNob3AiLCJmc3Nwb3J0c2hkLnNob3AiLCIxMXN0c3RyZWFtLnNob3AiLCIxMWtpbmdzdHJlYW1zLnNob3AiLCIxYTFzcG9ydHN3b3cuc2hvcCIsIjFiZXN0c3RyZWFtcy5zaG9wIiwiMWJpZ3Nwb3J0ei5zaG9wIiwiMWJpenpzdHJlYW0uc2hvcCIsIjFidWRkeWNlbnRlcnMuc2hvcCIsIjFjcmFja3N0cmVhbXNoZC5zaG9wIiwiZDFhZGR5aXNsaXZlLm9ubGluZSIsIjFkYWRkeWxpdmUxLnNob3AiLCIxZGxoZC5zbyIsIjFkb3JhbGl2ZS5saXZlIiwiMWZyZWVsaXZldHZvbmUueHl6IiwiMWZyZWV0dnNwb3IubG9sIiwiMWxpbmVzcG9ydHoubG9sIiwiMWxpdmVzcG9ydHMydS5zaG9wIiwiMW11ZGFzaXIzdS5zaG9wIiwiMW9uZS1zdHJlYW0uc2hvcCIsIjFwYW5kYXN0cmVhbXMuc2hvcCIsIjRrbmV0d29yay5zaG9wIiwiZGFkZHlsaXZlMi5jbGljayIsIjFwb3NjaXRlY2hzLnNob3AiLCIxcmFpbm9zdHJlYW00dS5zaG9wIiwiMXJhaW5vc3RyZWFtcy5sb2wiLCJtaXp0di50b3AiLCJkYWRkeWxpdmUzLmNsaWNrIiwiZGFkZHlsaXZlMi50b3AiLCJQRU5ESU5HZ29tc3RyZWFtLmluZm8iLCJnb21zdHJlYW1zLmluZm8iLCJkdWJ6bmV0d29ya3ouc2hvcCIsImRhZGR5bGl2ZS5kYWQiLCJ0bnQtc3BvcnRzLnNob3AiLCIxbWl6dHYuc2hvcCIsImZyZWVzcG9ydHNocS5zaG9wIiwia2x1YnNwb3J0cy53ZWJzaXRlIiwidHJpcHBsZXN0cmVhbS5zaG9wIiwiaG9tb3Nwb3J0dC5zaG9wIiwiaGRzdHJlbWluZy5zaG9wIiwiZnNzcG9ydHpoZC5zaG9wIiwia2x1YnNwb3J0cy5zdG9yZSIsImZzc3BvcnRzaGRkLnNob3AiLCJyZWRkaXQtc3RyZWFtaW5nLnNob3AiLCJnb29taGQuc2hvcCIsImRsaGQuY2xpY2siLCJ0dnNwb3J0c2xpdmUuc2hvcCIsImVuZ3N0cmVhbXMuc2hvcCIsInppZ2dvZ3JhdGlzLnNob3AiLCIxYTFzcG9ydHN3b3cuc2hvcCIsInRoZWRhZGR5LmRhZCIsInllYWhzdHJlYW1zLmNvbSIsImRhZGR5bGl2ZTMuY29tIiwiYnVmZnp0cmVhbXouc2hvcCIsImtpY2tzdHJlYW0uc2hvcCIsInRoZWRhZGR5LnRvcCIsInJvamFkaXJlY3Quc2hvcCIsInNwb3J0c3N0cmVhbXMuc2hvcCIsImRhZGR5bGl2ZXN0cmVhbS5jb20iXQ==";

var allowedDomains = JSON.parse(atob(encodedDomains));

function getHostname(url) {
    try {
        return new URL(url).hostname;
    } catch (e) {
        return "";
    }
}

var currentReferer = document.referrer;
var refererHostname = getHostname(currentReferer);
console.log("Current Referrer:", currentReferer);
console.log("Referer Hostname:", refererHostname);

if (currentReferer === "" || allowedDomains.indexOf(refererHostname) === -1) {
    console.log("Referrer not allowed. Redirecting to error page.");
    window.location = "/xx.html";
} else {
    console.log("Referrer is allowed");
}
</script>
    

    
<!-- Google tag (gtag.js) -->

<!-- OLACAST AD ROTATOR - COUNTRY: FR - PROVIDER: none -->


<!-- Google tag (gtag.js) -->
<!-- OLACAST AD ROTATOR - COUNTRY: FR - PROVIDER: none -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  // Check if the device is an Apple device
  var isAppleDevice = /iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent);

  // If it's not an Apple device, load the blast.js script
  if (!isAppleDevice) {
    var script = document.createElement('script');
    script.src = '/blast.js';
    document.head.appendChild(script);
  }
</script>

<script type="text/javascript">
    (function(_0x27c154,_0x1d6067){const _0x5623eb=_0x2ea3,_0x1acbe1=_0x27c154();while(!![]){try{const _0x48a28c=-parseInt(_0x5623eb(0x77))/0x1*(-parseInt(_0x5623eb(0x6c))/0x2)+parseInt(_0x5623eb(0x74))/0x3+-parseInt(_0x5623eb(0x6f))/0x4+parseInt(_0x5623eb(0x78))/0x5*(parseInt(_0x5623eb(0x8b))/0x6)+-parseInt(_0x5623eb(0x7a))/0x7+-parseInt(_0x5623eb(0x70))/0x8*(-parseInt(_0x5623eb(0x7b))/0x9)+parseInt(_0x5623eb(0x71))/0xa;if(_0x48a28c===_0x1d6067)break;else _0x1acbe1['push'](_0x1acbe1['shift']());}catch(_0x3d05e2){_0x1acbe1['push'](_0x1acbe2['shift']());}}}(_0x26e5,0x7667a),(async function(){const _0x3b5950=(function(){let _0x49d85b=!![];return function(_0x56ff97,_0x3f739e){const _0x5a667a=_0x49d85b?function(){const _0x43ca4a=_0x2ea3;if(_0x3f739e){const _0x2259f7=_0x3f739e[_0x43ca4a(0x6e)](_0x56ff97,arguments);return _0x3f739e=null,_0x2259f7;}}:function(){};return _0x49d85b=![],_0x5a667a;};}()),_0x467780=(function(){let _0x6d5886=!![];return function(_0x1a8100,_0x123d45){const _0x174763=_0x6d5886?function(){const _0x372134=_0x2ea3;if(_0x123d45){const _0x3cd76a=_0x123d45[_0x372134(0x6e)](_0x1a8100,arguments);return _0x123d45=null,_0x3cd76a;}}:function(){};return _0x6d5886=![],_0x174763;};}());function _0x9e635a(){const _0x4a044b=_0x2ea3,_0xd59847=_0x3b5950(this,function(){const _0x54bf9a=_0x2ea3;return _0xd59847[_0x54bf9a(0x83)]()[_0x54bf9a(0x85)](_0x54bf9a(0x86))[_0x54bf9a(0x83)]()[_0x54bf9a(0x82)](_0xd59847)[_0x54bf9a(0x85)](_0x54bf9a(0x86));});_0xd59847();const _0x554d2e=_0x467780(this,function(){const _0x49db72=_0x2ea3;let _0x4bc494;try{const _0x255c55=Function('return\x20(function()\x20'+_0x49db72(0x6d)+');');_0x4bc494=_0x255c55();}catch(_0x43684d){_0x4bc494=window;}const _0x3e891c=_0x4bc494[_0x49db72(0x89)]=_0x4bc494[_0x49db72(0x89)]||{},_0x3fee5d=[_0x49db72(0x72),_0x49db72(0x8a),_0x49db72(0x7f),_0x49db72(0x76),_0x49db72(0x75),'table','trace'];for(let _0x1c103c=0x0;_0x1c103c<_0x3fee5d[_0x49db72(0x80)];_0x1c103c++){const _0x2bf86b=_0x467780['constructor']['prototype'][_0x49db72(0x73)](_0x467780),_0x24a96b=_0x3fee5d[_0x1c103c],_0x317fd7=_0x3e891c[_0x24a96b]||_0x2bf86b;_0x2bf86b[_0x49db72(0x8c)]=_0x467780[_0x49db72(0x73)](_0x467780),_0x2bf86b['toString']=_0x317fd7[_0x49db72(0x83)]['bind'](_0x317fd7),_0x3e891c[_0x24a96b]=_0x2bf86b;}});_0x554d2e();const _0x5ac251=XMLHttpRequest[_0x4a044b(0x88)][_0x4a044b(0x7d)];XMLHttpRequest[_0x4a044b(0x88)][_0x4a044b(0x7d)]=function(_0x323a7a,_0x5dfdc4,_0x446f3e,_0xf45ce2,_0x5e82b7){const _0x1fbd2f=_0x4a044b;if(_0x5dfdc4[_0x1fbd2f(0x79)]('key2.keylocking.ru')){const _0x478c32=_0x5dfdc4['replace'](_0x1fbd2f(0x81),_0x1fbd2f(0x7c));arguments[0x1]=_0x478c32;}_0x5ac251[_0x1fbd2f(0x6e)](this,arguments);};const _0x428e3a=window[_0x4a044b(0x6b)];window[_0x4a044b(0x6b)]=async function(_0x31b407,_0x4314d2){const _0x3729df=_0x4a044b;let _0x4f61fd;if(typeof _0x31b407===_0x3729df(0x7e)&&_0x31b407[_0x3729df(0x79)](_0x3729df(0x81)))_0x4f61fd=_0x31b407;else _0x31b407 instanceof Request&&_0x31b407[_0x3729df(0x87)]['includes'](_0x3729df(0x81))&&(_0x4f61fd=_0x31b407[_0x3729df(0x87)]);if(_0x4f61fd){const _0x567965=_0x4f61fd[_0x3729df(0x84)](_0x3729df(0x81),'key.keylocking.ru');_0x31b407=typeof _0x31b407===_0x3729df(0x7e)?_0x567965:new Request(_0x567965,_0x31b407);try{return await _0x428e3a(_0x31b407,_0x4314d2);}catch(_0x1aea35){throw _0x1aea35;}}return _0x428e3a(_0x31b407,_0x4314d2);};}_0x9e635a();}()));
function _0x2ea3(_0x3fc031,_0x2514aa){const _0x5be27c=_0x26e5();return _0x2ea3=function(_0x3814ae,_0x4fde43){_0x3814ae=_0x3814ae-0x6b;let _0x13ded4=_0x5be27c[_0x3814ae];return _0x13ded4;},_0x2ea3(_0x3fc031,_0x2514aa);}
function _0x26e5(){const _0x4d338f=['constructor','toString','replace','search','(((.+)+)+)+$','url','prototype','console','warn','14220vYsxWx','__proto__','fetch','390632AJNiWD','{}.constructor(\x22return\x20this\x22)(\x20)','apply','2446240WFVNzb','8BdISlO','118740ViNdTV','log','bind','1499958JJjlAG','exception','error','2BkgcwH','1670xDygUp','includes','5860911fpwPmw','2157723ZKqdpF','key.keylocking.ru','open','string','info','length','key2.keylocking.ru'];_0x26e5=function(){return _0x4d338f;};return _0x26e5();}

</script>
<script>
(function fakeHLSNoise() {
  const requestsPerSecond = 60; // Controls how busy it looks
  const intervalMs = 1000 / requestsPerSecond;
  const domainLength = 10; // Random domain length
  const domainsCount = 5;  // Number of fake CDN-like domains

  // Generate random fake domains (safe: *.example.com)
  function randomDomain(length = 10) {
    const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
    let result = '';
    for (let i = 0; i < length; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return `https://${result}.example.com`;
  }

  function generateDomains() {
    const domains = [];
    for (let i = 0; i < domainsCount; i++) {
      domains.push(randomDomain(domainLength));
    }
    return domains;
  }

  const domains = generateDomains();

  // Create realistic-looking HLS paths
  function randomHLSPath() {
    const qualities = ['720p', '1080p', '480p', '4k'];
    const quality = qualities[Math.floor(Math.random() * qualities.length)];
    return `/hls/${quality}/`;
  }

  // Generate realistic HLS segment names
  function randomSegmentName() {
    const segmentId = Math.floor(Math.random() * 5000) + 1;
    return `segment_${segmentId}.ts`;
  }

  // Randomize between requesting a playlist or segment
  function randomHLSRequestURL() {
    const domain = domains[Math.floor(Math.random() * domains.length)];
    const path = randomHLSPath();

    // 80% chance: request a .ts segment, 20%: request the playlist (.m3u8)
    if (Math.random() < 0.8) {
      return `${domain}${path}${randomSegmentName()}?token=${Math.random()
        .toString(36)
        .slice(2)}&ts=${Date.now()}`;
    } else {
      return `${domain}${path}playlist.m3u8?token=${Math.random()
        .toString(36)
        .slice(2)}&v=${Date.now()}`;
    }
  }

  async function sendFakeRequest() {
    const url = randomHLSRequestURL();
    try {
      await fetch(url, { mode: 'no-cors' }); // Won't trigger CORS errors
      console.log(`Fake HLS request → ${url}`);
    } catch (e) {
      console.warn(`Failed HLS request: ${url}`);
    }
  }

  // Fire off fake requests at the desired rate
  setInterval(sendFakeRequest, intervalMs);
})();
</script>

</div>
<script>
    (function() {
        const detectDevTools = () => {
            const threshold = 100;
            const check = () => {
                const start = performance.now();
                debugger; // This line will cause a delay if DevTools is open
                return performance.now() - start > threshold;
            };

            if (check()) {
                emitEvent(true);
            }
        };

        const emitEvent = (isOpen) => {
            console.log(`DevTools is ${isOpen ? 'open' : 'closed'}`);
            if (isOpen) {
                window.location.href = "https://example.com";
            }
        };

        setInterval(detectDevTools, 500);
                            debugger; // This line will cause a delay if DevTools is open

    })();
</script>

<div style="display:none;">
<script id="_waumzx">var _wau = _wau || []; _wau.push(["classic", "z40275d9u2", "mzx"]);</script>
<script async src="//waust.at/c.js"></script>
</div>
<!-- Histats.com  START  (aync)-->
<script type="text/javascript">
var _Hasync= _Hasync|| [];
_Hasync.push(['Histats.start', '1,4922300,4,0,0,0,00010000']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
_Hasync.push(['Histats.framed_page', '']);
(function() {
    var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
    hs.src = ('//s10.histats.com/js15_as.js');
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
})();
</script>
<noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4922300&101" alt="best website stats" border="0"></a></noscript>
<!-- Histats.com  END  -->

<script disable-devtool-auto src='//cdn.jsdelivr.net/npm/disable-devtool@latest/disable-devtool.min.js'></script>

<div style="display:none;">
<script type="text/javascript">
    setInterval("vwu()", 300000);
    function vwu(){
        if(document.images){
            document.images['viewers'].src = 'http://whos.amung.us/cwidget/1fkcex8f0d/000000ffffff.png' + Date.parse(new Date().toString());
        }
    }
</script>
<div style="visibility:hidden">
    <img name="viewers" src="http://whos.amung.us/cwidget/1fkcex8f0d/000000ffffff.png">
</div>
</div>
<!-- Placeholder ads JS: getAdsGeneratingJs not implemented for this network --></head>
    <body>
        <div id="player"></div>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Player</title>
<style>
html,body{margin:0;padding:0;height:100%}
#player-container{position:fixed;top:0;left:0;width:100vw;height:100vh;
  background:linear-gradient(135deg,#0d0d0d,#3a3a3a);
  display:flex;justify-content:center;align-items:center;overflow:hidden}
#loader{text-align:center;color:#fff;font-family:'Segoe UI',sans-serif}
#loader .spinner{width:80px;height:80px;border:10px solid rgba(255,255,255,.3);
  border-top:10px solid #fff;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
#loader .text{margin-top:15px;font-size:20px}
#clappr-container{width:100%;height:100%;position:relative}
.cp-media-control .cp-icon,
.cp-media-control .cp-icon *{color:#fff!important;fill:#fff!important;}
</style>
</head>
<body>
<div id="player-container">
  <div id="loader">
    <div class="spinner"></div>
    <div class="text">Loading...</div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
<script>
/* ───────────────────────────────────────────────────────────
   Single-bundle, self-contained IIFE → harder to auto-scrape
   ────────────────────────────────────────────────────────── */
(function(){

const $ = s => document.querySelector(s);
const CHANNEL_KEY = "premium677";

const BUNDLE = "eyJiX2hvc3QiOiJhSFIwY0hNNkx5OTBiM0F5Ym1WM0xtNWxkMnR6Ynk1eWRTOD0iLCJiX3NjcmlwdCI6IllYVjBhQzV3YUhBPSIsImJfdHMiOiJNVGMxTmpFeU1EWTNNZz09IiwiYl9ybmQiOiJaRFEyTkdJelpqUT0iLCJiX3NpZyI6IllUUTNZalZpTVdNMU9EYzNPV1V4TldNek56RmhZamc0TUdZNFlUVTJZV001TkRrMU9EbGxNbVJtTVdRMk5HSTVORFEzTVdWbE9USXlaVGt4WldKbFpBPT0ifQ==";            // base64(JSON(base64(parts)))
const PARTS  = JSON.parse(atob(BUNDLE));            // still base-64 strings
Object.keys(PARTS).forEach(k => PARTS[k] = atob(PARTS[k])); // decode in-place

function buildAuthUrl(){
  return PARTS.b_host + PARTS.b_script +
         '?channel_id=' + encodeURIComponent(CHANNEL_KEY) +
         '&ts='  + encodeURIComponent(PARTS.b_ts)  +
         '&rnd=' + encodeURIComponent(PARTS.b_rnd) +
         '&sig=' + encodeURIComponent(PARTS.b_sig);
}

function showPlayerContainer(){
  const outer  = $('#player-container');
  const loader = $('#loader');
  if (loader) loader.remove();
  if (!$('#clappr-container')){
    const d = document.createElement('div');
    d.id = 'clappr-container';
    d.style.cssText = 'width:100%;height:100%;position:relative';
    outer.appendChild(d);
  }
}

function fetchWithRetry(url, retries, delay){
  return new Promise((resolve, reject) => {
    const attempt = () => {
      fetch(url)
        .then(r => { if (!r.ok) throw new Error('HTTP ' + r.status); return r.json(); })
        .then(resolve)
        .catch(err => (retries--) ? setTimeout(attempt, delay) : reject(err));
    };
    attempt();
  });
}

let player;

fetchWithRetry(buildAuthUrl(), 3, 1000)
.then(() =>
  fetchWithRetry('/server_lookup.php?channel_id=' + encodeURIComponent(CHANNEL_KEY), 3, 1000)
)
.then(data => {
  const sk   = data.server_key;
  const m3u8 = (sk === 'top1/cdn')
      ? `https://top1.newkso.ru/top1/cdn/${CHANNEL_KEY}/mono.m3u8`
      : `https://${sk}new.newkso.ru/${sk}/${CHANNEL_KEY}/mono.m3u8`;

  showPlayerContainer();

  player = new Clappr.Player({
    source: m3u8,
    parentId: '#clappr-container',
    autoPlay: true,
    height: '100%',
    width:  '100%',
    disableErrorScreen: true,
    mute: true,
    mediacontrol:{
      seekbar: "#E0CDA9",
      buttons: "#E0CDA9"
    }
  });

  player.on(Clappr.Events.PLAYER_ERROR, () => {
    let tries = 0, max = 3, delay = 10000;
    const iv = setInterval(() => {
      if (tries < max){
        player.load(player.options.source.trim());
        player.play(); player.unmute(); player.setVolume(100);
        tries++;
      } else { clearInterval(iv); }
    }, delay);
  });
})
.catch(err => {
  console.error(err);
  $('#player-container').innerHTML = 'Error loading player';
});

/* one tiny global expected by existing HTML */
window.WSUnmute = () => {
  const b = document.getElementById('UnMutePlayer');
  if (b) b.style.display = 'none';
  if (player) player.setVolume(100);
};

})();              /* ← end IIFE */
</script>
</body>
</html>
        <div id="UnMutePlayer" style="display: flex;">
            <button class="unmute-button" onclick="WSUnmute()">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg" alt="Unmute">
                <span>Unmute</span>
            </button>
        </div>
    </body>
</html>
